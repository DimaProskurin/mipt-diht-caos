# Протокол HTTP, библиотека cURL и система сборки CMake

## Протокол HTTP

### Общие сведения

Протокол HTTP используется преимущественно браузерами для загрузки и отправки контента. Кроме того, благодаря своей простоте и универсальности, он часто используется как высокоуровневый протокол клиент-серверного взаимодействия.

Большинтсво серверов работают с версией протокола `HTTP/1.1`, который подразумевает взаимодействие в текстовом виде через TCP-сокет. Клиент отправляет на сервер текстовый запрос, который содержит:
 * Команду запроса
 * Заголовки запроса
 * Пустую строку - признак окончания заголовков запроса
 * Передаваемые данные, если они подразумеваются

В ответ сервер должен отправить:
 * Статус обработки запроса
 * Заголовки ответа
 * Пустую строку - признак окончания заголовков ответа
 * Передаваемые данные, если они подразумеваются

Стандартным портом для `HTTP` является порт 80, для `HTTPS` - порт с номером 443, но это жёстко не регламентировано, и при необходимости номер порта может быть любым.

### Основные команды и заголовки HTTP

 * `GET` - получить содержимое по указанному URL;
 * `HEAD` - получить только метаинформацию (заголовки) по указанному URL, но не содержимое;
 * `POST` - отправить данные на сервер и получить ответ.

Кроме основных команд, в протоколе HTTP можно определять произвольные дополнительные команды в текстовом виде (естественно, для этого потребуется поддержка как со стороны сервера, так и клиента). Например, расширение WebDAV протокола HTTP, предназначенное для передачи файлов, дополнительно определяет команды `PUT`, `DELETE`, `MKCOL`, `COPY`, `MOVE`.

Заголовки - это строки вида `ключ: значение`, определяющие дополнительную метаинформацию запроса или ответа.

По стандарту `HTTP/1.1`, в любом запросе должен быть как минимум один заголовок - `Host`, определяющий имя сервера. Это связано с тем, что с одним IP-адресом, на котором работает HTTP-сервер, может быть связано много доменных имен.

Полный список заголовков можно посмотреть [в Википедии](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields).

Пример взаимодействия:
```
$ telnet ejudge.atp-fivt.org
// TODO выполнить на линуксовой машине и скопипастить сюда
```

### Протокол HTTPS

Протокол HTTP**S** - это реализация протокола HTTP поверх дополнительного уровня SSL, который, в свою очередь работает через TCP-сокет. На уровне SSL осуществляется проверка сертификата сервера и обмен ключами шифрования. После этого - начинается обычное взаимодействие по протоколу HTTP в текстовом виде, но это заимодейтвие передается по сети в зашифрованном виде.

Аналогом `telnet` для работы поверх SSL является инструмент `s_client` из состава OpenSSL:

```
$ openssl s_client -connect yandex.ru:443
```

### Утилита cURL

Универсальным инструментом для взаимодействия по HTTP в Linux считается [curl](https://curl.haxx.se), которая входит в базовый состав всех дистрибутивов.

// TODO написать короткий гайд

## Библиотека `libcurl`

// TODO написать короткий гайд

## Система сборки `cmake`

// TODO написать короткий гайд
